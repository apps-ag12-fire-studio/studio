
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Permite leitura e escrita na coleção de contratos em progresso.
    // Para produção, restrinja o acesso para que usuários só possam acessar seus próprios dados
    // ou com base em outras lógicas de autorização.
    match /inProgressContracts/{processId} {
      allow read, write: if true; // AVISO: Permissivo para desenvolvimento.
                                // TODO: Restringir para produção (ex: if request.auth.uid != null && resource.data.userId == request.auth.uid)
    }

    // Permite leitura e escrita na coleção de contratos submetidos.
    // Para produção, considere restringir 'write' a funções de backend ou usuários administrativos,
    // e 'read' com base nas permissões do usuário.
    match /submittedContracts/{submissionId} {
      allow read, write: if true; // AVISO: Permissivo para desenvolvimento.
                                 // TODO: Restringir para produção.
    }
  }
}
